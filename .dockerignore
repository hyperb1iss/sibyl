# =============================================================================
# Whitelist-first .dockerignore
# Start by ignoring everything, then allow only what's needed
# =============================================================================

# Ignore everything
*

# -----------------------------------------------------------------------------
# API Image (apps/api/Dockerfile)
# -----------------------------------------------------------------------------
!pyproject.toml
!uv.lock
!VERSION
!README.md

# Core library
!packages/python/sibyl-core/pyproject.toml
!packages/python/sibyl-core/README.md
!packages/python/sibyl-core/src/

# API app
!apps/api/pyproject.toml
!apps/api/README.md
!apps/api/src/
!apps/api/alembic/
!apps/api/alembic.ini

# -----------------------------------------------------------------------------
# Web Image (apps/web/Dockerfile)
# -----------------------------------------------------------------------------
!pnpm-lock.yaml
!pnpm-workspace.yaml
!apps/web/

# -----------------------------------------------------------------------------
# Re-exclude build artifacts in allowed directories
# -----------------------------------------------------------------------------
**/__pycache__/
**/*.pyc
**/*.pyo
**/node_modules/
**/.next/
**/.venv/
**/.turbo/
**/dist/
**/.cache/
