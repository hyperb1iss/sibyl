$schema: https://moonrepo.dev/schemas/project.json
language: typescript
toolchains:
  default: node
tasks:
  dev:
    command: pnpm vitepress dev
    options:
      persistent: true
    preset: server
  build:
    command: pnpm vitepress build
    inputs:
    - '@group(sources)'
    - '@group(configs)'
    outputs:
    - .vitepress/dist
  preview:
    command: pnpm vitepress preview
    options:
      persistent: true
    deps:
    - ~:build
    preset: server
  install:
    command: pnpm install
    inputs:
    - package.json
    - pnpm-lock.yaml
    preset: server
  lint:
    command: npx prettier --check '**/*.md'
    inputs:
    - '@group(sources)'
  fix:
    command: npx prettier --write '**/*.md'
    inputs:
    - '@group(sources)'
    preset: server
  format:
    command: npx prettier --write '**/*.md'
    inputs:
    - '@group(sources)'
    preset: server
fileGroups:
  sources:
  - '**/*.md'
  - .vitepress/**/*
  configs:
  - package.json
  - .vitepress/config.mts
layer: application
